<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="reviewMapper">

   <resultMap id="result"
      type="review">
      <result property="reviewNo" column="REVIEW_NO_PK"/>
      <result property="userNo" column="USER_NO_FK"/>
      <result property="bottleNo" column="BOTTLE_NO_FK" />
      <result property="grade" column="GRADE" />
      <result property="reviewTitle" column="REVIEW_TITLE" />
      <result property="reviewContent" column="REVIEW_CONTENT" />
      <result property="createDate" column="CREATE_DATE" />
      <result property="imgUrl" column="IMG_URL" />
      <result property="imgCusUrl" column="IMG_CUS_URL" />
      <result property="status" column="STATUS" />
   </resultMap>

   <select id="selectList" parameterType="Integer" resultMap="result">
       <![CDATA[   
         SELECT *
         FROM review_tb
         WHERE bottleNo=#{bottleNo}
      ]]>
   </select>

	<select id="selectOne" parameterType="Integer" resultMap="result">
       <![CDATA[   
         SELECT *
         FROM review_tb
         WHERE reviewNo=#{reviewNo}
      ]]>
   </select>
	
	<update id="insertOne" parameterType="review">
       <![CDATA[   
         INSERT INTO review_tb(userNo, bottleNo, grade, reviewTitle, reviewContent, imgUrl)
         VALUE(#{userNo}, #{bottleNo}, #{grade}, #{reviewTitle}, #{reviewContent}, #{imgUrl})
      ]]>
	</update>
	
	<update id="updateOne" parameterType="review">
       <![CDATA[
         UPDATE review
         SET grade=#{grade}, reviewTitle=#{reviewTitle}, reviewContent=#{reviewContent}, imgUrl=#{imgUrl}
         WHERE reviewNo=#{reviewNo}
      ]]>
	</update>
	
	<update id="deleteOne" parameterType="review">
       <![CDATA[
         DELETE
         FROM review_tb
         WHERE reviewNo=#{reviewNo}
      ]]>
	</update>

</mapper>